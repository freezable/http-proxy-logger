<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="/socket.io/socket.io.js"></script>
    <title>Monitor</title>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col">
            <h1>Requests: </h1>
        </div>
        <div class="col">
            <ul id="requests"></ul>
        </div>
    </div>
</div>

<script>
    var socket = io();
    var messages = document.getElementById('requests');
    socket.on('request', function (msg) {
        var code = document.createElement('code');
        code.textContent = msg;
        var item = document.createElement('pre');
        item.appendChild(code);
        messages.appendChild(item);
        window.scrollTo(0, document.body.scrollHeight);
    });

    socket.on('connect_error', (error) => {
        alert('Connection to monitoring server is closed - please reload this page.')
    });
</script>

</body>
</html>
